{% extends "base.html"%}
{%load static%}
{% load extras %}


{%block header%}

<nav class="navbar navbar-expand-xl navbar-light" role="navigation" >
  <div class="container-fluid" >
          <a class="navbar-brand" href="/">
            <img src="{% static "images/logo.png" %}" alt="logo">
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
             aria-label="Toggle navigation">
             <span class="navbar-toggler-icon"></span>
           </button>
           <div class="collapse navbar-collapse" id="navbarNav">
             <ul class="navbar-nav ml-auto text-center" >
              <li class ="nav-item ">
                <a class="nav-link  text-primary" href="/admin/"><i class="fa fa-sign-in" aria-hidden="true"></i> Admin</a>
              </li>
             </ul>
           </div>

  </div>
</nav>

{%endblock%}


{%block content%}

<link rel="stylesheet" type="text/css" href="{% static 'css/normalize.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/demo.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/component.css' %}" />

<div class="container main mt-2">
    <form method="POST" action="" enctype="multipart/form-data">
      {%csrf_token%}
      <div class="card-deck mb-3 text-center">
              <div class="card mb-4 col-12">
                <div class="card-header">
                  <h4 class="my-0 font-weight-normal">褥瘡傷口分析系統</h4>
                </div>
                <div class="card-body text-center">
                  {% if file_name %}
                  <img class="card-img-top" src="media/{{file_name}}" style="max-width:800px;max-height:800px;" alt="Card image cap">
                  <div class="text-center">
                    <span> Infection : {{result1}} </span><br>
                    <span> Necrotic Tissue : {{result2}} </span><br>
	                  <span> Suggestions : {{suggestions|safe}}</span>
                  </div>
                  {%endif%}
                  <input type="file" name="myfile" id="file-5" class="inputfile inputfile-4" data-multiple-caption="{count} files selected" accept=".png, .jpg, .jpeg" />
                  <label for="file-5">
                    <figure>
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17">
                        <path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/>
                      </svg>
                  </figure>
                  <span>請輸入照片&hellip;</span>
                </label>
                </div>
                <div class="text-center mb-2">

                  <input type="submit" class="btn " value="上傳">
                </div>
              </div>

      </div>
    </form>
</div>
<div id="checking" style="display:none;position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: #f4f4f4;z-index: 99;">
<div class="text" style="position: absolute;top: 45%;left: 0;height: 100%;width: 100%;font-size: 18px;text-align: center;">
處理中，請稍後<br><b style="color: red;">保持連線
<div class="spinner" style="position: relative;top: 2%;left: 1%;">
  <div class="ball ball-1"></div>
  <div class="ball ball-2"></div>
  <div class="ball ball-3"></div>
  <div class="ball ball-4"></div>
</div>
</div>
</div>

<script src="{% static 'js/custom-file-input.js' %}"></script>


		<script type="text/javascript">

              $("#checking").show();
      $('form').on('submit',function(){
              $("#checking").show();
      });

    </script>
		<!-- // If you'd like to use jQuery, check out js/jquery.custom-file-input.js
		<script src="js/jquery-v1.min.js"></script>
		-->
{%endblock%}
